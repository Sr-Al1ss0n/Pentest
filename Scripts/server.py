#!/usr/bin/python3
# Servidor simples feito inicialmente seguindo o livreo Python Penetration Testing Essentials (Packt)

import socket # importa a biblioteca socket

host = "10.0.2.15" # endereco do servidor
port = 12345 # porta
s = socket.socket(socket.AF_INET, socket.SOCK_STREAM) # criacao de socket padrao para trabalhar com IPv4 (AF_INET) e TCP (SOCK_STREAM)
s.bind((host, port)) # Metodo que faz a conexao entre com o endereco e porta para um socket
s.listen(2) # Metodo que liberar escutar no socket, recebendo o parametro de no maximo 2 conexoe 
conn, addr = s.accept() # cria as variaveis recebendo quem aceitar a conexao
print (addr, "Now connected") # Mostra que a conexao foi aceita 
conn.send(b"Thanks you for connecting") # envia dados
conn.close() # finaliza a conexao 

# NA linha 13 ao enviar dados no py2.7 pode enviar str, porem no py3 tem que enviar em bytes, por isso o b no inicio da str
